<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RLC Bingo Forms</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: Arial, sans-serif;
            font-size: 12px;
            line-height: 1.4;
            background: #f5f5f5;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: #2c5aa0;
            color: white;
            padding: 20px;
            text-align: center;
        }

        .header h1 {
            font-size: 24px;
            margin-bottom: 10px;
        }

        .qr-section {
            margin-top: 15px;
            padding: 15px;
            background: rgba(255,255,255,0.1);
            border-radius: 5px;
        }

        .qr-code {
            width: 100px;
            height: 100px;
            background: white;
            margin: 10px auto;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 5px;
            font-size: 8px;
            text-align: center;
            color: #333;
        }

        .tabs {
            display: flex;
            background: #e9ecef;
            border-bottom: 1px solid #ddd;
        }

        .tab-button {
            flex: 1;
            padding: 15px 20px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
        }

        .tab-button:hover {
            background: #dee2e6;
        }

        .tab-button.active {
            background: white;
            border-bottom-color: #2c5aa0;
            color: #2c5aa0;
        }

        .tab-content {
            display: none;
            padding: 30px;
        }

        .tab-content.active {
            display: block;
        }

        .form-section {
            margin-bottom: 30px;
            border: 1px solid #ddd;
            border-radius: 5px;
            overflow: hidden;
        }

        .section-header {
            background: #f8f9fa;
            padding: 15px;
            border-bottom: 1px solid #ddd;
            font-weight: bold;
            font-size: 14px;
        }

        .section-content {
            padding: 20px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 15px;
        }

        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }

        th {
            background: #f8f9fa;
            font-weight: bold;
        }

        input[type="number"], input[type="text"] {
            width: 100%;
            padding: 5px;
            border: 1px solid #ccc;
            border-radius: 3px;
            font-size: 12px;
        }

        input[type="radio"] {
            margin-right: 5px;
        }

        .currency-table {
            display: grid;
            grid-template-columns: auto 1fr 1fr 1fr;
            gap: 1px;
            border: 1px solid #ddd;
            margin-bottom: 15px;
        }

        .currency-header, .currency-cell {
            padding: 8px;
            border: 1px solid #ddd;
            background: #f8f9fa;
        }

        .currency-cell input {
            border: none;
            background: white;
            text-align: right;
        }

        .subtotal-row {
            background: #e9ecef;
            font-weight: bold;
        }

        .controls {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            padding: 15px;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            z-index: 1000;
        }

        .btn {
            display: inline-block;
            padding: 8px 16px;
            margin: 2px;
            background: #2c5aa0;
            color: white;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            font-size: 12px;
            text-decoration: none;
        }

        .btn:hover {
            background: #1e3a8a;
        }

        .btn-secondary {
            background: #6c757d;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        .instruction-box {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .two-column {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        @media print {
            @page {
                margin: 0.3in;
                size: letter;
            }

            body {
                background: white;
                padding: 0;
                margin: 0;
                font-size: 9px;
                line-height: 1.2;
            }

            .container {
                box-shadow: none;
                border-radius: 0;
                margin: 0;
                padding: 0;
            }

            .header, .tabs, .controls, .qr-section {
                display: none;
            }

            .tab-content {
                display: block !important;
                padding: 10px;
                margin: 0;
            }

            .tab-content:not(.print-active) {
                display: none !important;
            }

            .calculating-only {
                display: none;
            }

            .form-section {
                margin-bottom: 15px;
                page-break-inside: avoid;
            }

            .section-header {
                padding: 8px;
                font-size: 11px;
                font-weight: bold;
            }

            .section-content {
                padding: 8px;
            }

            input {
                border: 1px solid #000 !important;
                background: white !important;
                padding: 1px;
                font-size: 9px;
                min-height: 12px;
            }

            input[readonly] {
                border: 1px solid #666 !important;
                background: #f9f9f9 !important;
            }

            .blank-form-print input {
                background: white !important;
                color: transparent !important;
            }

            .blank-form-print input::placeholder {
                color: #ccc !important;
            }

            .blank-form-print input[value="0"], .blank-form-print input[value="0.00"] {
                color: transparent !important;
            }

            table {
                width: 100%;
                border-collapse: collapse;
                margin-bottom: 10px;
                font-size: 8px;
            }

            th, td {
                border: 1px solid #000;
                padding: 3px;
                text-align: left;
            }

            th {
                background: #f0f0f0;
                font-weight: bold;
                font-size: 9px;
            }

            .currency-table {
                display: table;
                width: 100%;
                border-collapse: collapse;
            }

            .currency-header, .currency-cell {
                display: table-cell;
                border: 1px solid #000;
                padding: 3px;
                vertical-align: middle;
            }

            .currency-header {
                background: #f0f0f0;
                font-weight: bold;
                text-align: center;
            }

            .instruction-box {
                padding: 8px;
                margin-bottom: 10px;
                border: 1px solid #000;
                font-size: 8px;
            }

            .two-column {
                display: block;
            }

            .page-break {
                page-break-before: always;
            }

            .no-print {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>Rolla Lions Club - Bingo Forms</h1>
            <p>Local Forms Management System</p>
            <div class="qr-section">
                <div class="qr-code">
                    <img src="https://api.qrserver.com/v1/create-qr-code/?size=90x90&data=https://bill-wiggins.github.io/rlc-bingo-manager/mobile" alt="QR Code for Mobile Entry" style="width: 90px; height: 90px;">
                </div>
                <p><small>Scan with smartphone for mobile data entry</small></p>
            </div>
        </header>

        <div class="controls">
            <div>
                <button class="btn" onclick="printBlankForm()">Print Blank</button>
                <input type="number" id="printQty" value="1" min="1" max="10" style="width: 50px; margin: 0 5px;">
                <br>
                <button class="btn btn-secondary" onclick="printCompletedForm()">Print Completed</button>
                <br>
                <button class="btn btn-secondary" onclick="saveData()">Save Session</button>
                <button class="btn btn-secondary" onclick="loadData()">Load Session</button>
                <br>
                <button class="btn btn-secondary" onclick="generateSMS()">Generate SMS</button>
            </div>
        </div>

        <nav class="tabs">
            <button class="tab-button active" onclick="showTab('occasion')">Bingo Occasion Report</button>
            <button class="tab-button" onclick="showTab('pulltab')">Pull-Tab Summary</button>
            <button class="tab-button" onclick="showTab('games')">Session Games Sheet</button>
            <button class="tab-button" onclick="showTab('money')">Money Summary</button>
        </nav>

        <!-- Bingo Occasion Report Tab -->
        <div id="occasion" class="tab-content active">
            <div class="form-section">
                <div class="section-header">Bingo Occasion Report</div>
                <div class="section-content">
                    <div class="instruction-box">
                        <strong>Instructions:</strong> Remember to write a check for next week's startup cash and include in the bank bag along with the cash deposit and deposit slip.<br>
                        <strong>Pay to:</strong> "T&C Bank for Bingo Cash" | <strong>Amount:</strong> $1,000.00 | <strong>Memo:</strong> "For Bingo [enter date of next session m/d/yy]"
                    </div>

                    <div class="currency-table">
                        <div class="currency-header"></div>
                        <div class="currency-header"><strong>BINGO</strong></div>
                        <div class="currency-header"><strong>PULL TABS</strong></div>
                        <div class="currency-header"><strong>TOTALS</strong></div>

                        <div class="currency-cell">A. $100's</div>
                        <div class="currency-cell"><input type="number" step="1" placeholder="0" id="bingo_100s" onchange="calculateMoney()"></div>
                        <div class="currency-cell"><input type="number" step="1" placeholder="0" id="pulltab_100s" onchange="calculateMoney()"></div>
                        <div class="currency-cell"><input type="number" step="1" id="total_100s" readonly></div>

                        <div class="currency-cell">B. $50's</div>
                        <div class="currency-cell"><input type="number" step="1" placeholder="0" id="bingo_50s" onchange="calculateMoney()"></div>
                        <div class="currency-cell"><input type="number" step="1" placeholder="0" id="pulltab_50s" onchange="calculateMoney()"></div>
                        <div class="currency-cell"><input type="number" step="1" id="total_50s" readonly></div>

                        <div class="currency-cell">C. $20's</div>
                        <div class="currency-cell"><input type="number" step="1" placeholder="0" id="bingo_20s" onchange="calculateMoney()"></div>
                        <div class="currency-cell"><input type="number" step="1" placeholder="0" id="pulltab_20s" onchange="calculateMoney()"></div>
                        <div class="currency-cell"><input type="number" step="1" id="total_20s" readonly></div>

                        <div class="currency-cell">D. $10's</div>
                        <div class="currency-cell"><input type="number" step="1" placeholder="0" id="bingo_10s" onchange="calculateMoney()"></div>
                        <div class="currency-cell"><input type="number" step="1" placeholder="0" id="pulltab_10s" onchange="calculateMoney()"></div>
                        <div class="currency-cell"><input type="number" step="1" id="total_10s" readonly></div>

                        <div class="currency-cell">E. $5's</div>
                        <div class="currency-cell"><input type="number" step="1" placeholder="0" id="bingo_5s" onchange="calculateMoney()"></div>
                        <div class="currency-cell"><input type="number" step="1" placeholder="0" id="pulltab_5s" onchange="calculateMoney()"></div>
                        <div class="currency-cell"><input type="number" step="1" id="total_5s" readonly></div>

                        <div class="currency-cell">F. $2's</div>
                        <div class="currency-cell"><input type="number" step="1" placeholder="0" id="bingo_2s" onchange="calculateMoney()"></div>
                        <div class="currency-cell"><input type="number" step="1" placeholder="0" id="pulltab_2s" onchange="calculateMoney()"></div>
                        <div class="currency-cell"><input type="number" step="1" id="total_2s" readonly></div>

                        <div class="currency-cell">G. $1's</div>
                        <div class="currency-cell"><input type="number" step="1" placeholder="0" id="bingo_1s" onchange="calculateMoney()"></div>
                        <div class="currency-cell"><input type="number" step="1" placeholder="0" id="pulltab_1s" onchange="calculateMoney()"></div>
                        <div class="currency-cell"><input type="number" step="1" id="total_1s" readonly></div>

                        <div class="currency-cell">H. Dollar Coins</div>
                        <div class="currency-cell"><input type="number" step="0.01" placeholder="0.00" id="bingo_dollars" onchange="calculateMoney()"></div>
                        <div class="currency-cell"><input type="number" step="0.01" placeholder="0.00" id="pulltab_dollars" onchange="calculateMoney()"></div>
                        <div class="currency-cell"><input type="number" step="0.01" id="total_dollars" readonly></div>

                        <div class="currency-cell">I. Half Dollars</div>
                        <div class="currency-cell"><input type="number" step="0.01" placeholder="0.00" id="bingo_halves" onchange="calculateMoney()"></div>
                        <div class="currency-cell"><input type="number" step="0.01" placeholder="0.00" id="pulltab_halves" onchange="calculateMoney()"></div>
                        <div class="currency-cell"><input type="number" step="0.01" id="total_halves" readonly></div>

                        <div class="currency-cell">J. Quarters</div>
                        <div class="currency-cell"><input type="number" step="0.01" placeholder="0.00" id="bingo_quarters" onchange="calculateMoney()"></div>
                        <div class="currency-cell"><input type="number" step="0.01" placeholder="0.00" id="pulltab_quarters" onchange="calculateMoney()"></div>
                        <div class="currency-cell"><input type="number" step="0.01" id="total_quarters" readonly></div>

                        <div class="currency-cell">K. Dimes</div>
                        <div class="currency-cell"><input type="number" step="0.01" placeholder="0.00" id="bingo_dimes" onchange="calculateMoney()"></div>
                        <div class="currency-cell"><input type="number" step="0.01" placeholder="0.00" id="pulltab_dimes" onchange="calculateMoney()"></div>
                        <div class="currency-cell"><input type="number" step="0.01" id="total_dimes" readonly></div>

                        <div class="currency-cell">L. Nickels</div>
                        <div class="currency-cell"><input type="number" step="0.01" placeholder="0.00" id="bingo_nickels" onchange="calculateMoney()"></div>
                        <div class="currency-cell"><input type="number" step="0.01" placeholder="0.00" id="pulltab_nickels" onchange="calculateMoney()"></div>
                        <div class="currency-cell"><input type="number" step="0.01" id="total_nickels" readonly></div>

                        <div class="currency-cell">M. Pennies</div>
                        <div class="currency-cell"><input type="number" step="0.01" placeholder="0.00" id="bingo_pennies" onchange="calculateMoney()"></div>
                        <div class="currency-cell"><input type="number" step="0.01" placeholder="0.00" id="pulltab_pennies" onchange="calculateMoney()"></div>
                        <div class="currency-cell"><input type="number" step="0.01" id="total_pennies" readonly></div>

                        <div class="currency-cell subtotal-row"><strong>SUB-TOTALS</strong></div>
                        <div class="currency-cell subtotal-row"><input type="number" step="0.01" id="bingo_subtotal" readonly></div>
                        <div class="currency-cell subtotal-row"><input type="number" step="0.01" id="pulltab_subtotal" readonly></div>
                        <div class="currency-cell subtotal-row"><input type="number" step="0.01" id="total_subtotal" readonly></div>

                        <div class="currency-cell">N. Checks (Bingo Only)</div>
                        <div class="currency-cell"><input type="number" step="0.01" placeholder="0.00" id="bingo_checks" onchange="calculateMoney()"></div>
                        <div class="currency-cell"><input type="number" step="0.01" value="0.00" readonly></div>
                        <div class="currency-cell"><input type="number" step="0.01" id="total_checks" readonly></div>

                        <div class="currency-cell subtotal-row"><strong>TOTAL ENDING CASH</strong></div>
                        <div class="currency-cell subtotal-row"><input type="number" step="0.01" id="bingo_total" readonly></div>
                        <div class="currency-cell subtotal-row"><input type="number" step="0.01" id="pulltab_total" readonly></div>
                        <div class="currency-cell subtotal-row"><input type="number" step="0.01" id="grand_total" readonly></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bingo Occasion Report Tab -->
        <div id="occasion" class="tab-content">
            <div class="form-section">
                <div class="section-header">Bingo Occasion Report</div>
                <div class="section-content">
                    <div class="two-column">
                        <div>
                            <label><strong>Lion:</strong></label>
                            <input type="text" id="occasion_lion" placeholder="Enter Lion's name">
                            <br><br>
                            <label><strong>Date:</strong></label>
                            <input type="date" id="occasion_date">
                        </div>
                        <div>
                            <label><strong>Total People:</strong></label>
                            <input type="number" id="occasion_people" placeholder="0">
                            <br><br>
                            <label><strong>Birthdays:</strong></label>
                            <input type="number" id="occasion_birthdays" placeholder="0" onchange="calculateOccasion()">
                        </div>
                    </div>

                    <br>
                    <label><strong>Session:</strong></label>
                    <input type="radio" name="session" value="5-1" id="session_51" onchange="calculateOccasion()">
                    <label for="session_51">5-1 (1st & 5th Monday)</label>
                    <input type="radio" name="session" value="6-2" id="session_62" onchange="calculateOccasion()">
                    <label for="session_62">6-2 (2nd Monday)</label>
                    <input type="radio" name="session" value="7-3" id="session_73" onchange="calculateOccasion()">
                    <label for="session_73">7-3 (3rd Monday)</label>
                    <input type="radio" name="session" value="8-4" id="session_84" onchange="calculateOccasion()">
                    <label for="session_84">8-4 (4th Monday)</label>

                    <h3 style="margin: 20px 0 10px 0;">Paper Bingo Sales (Record Beginning & Ending Counts)</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Start Count</th>
                                <th>Free</th>
                                <th>End Count</th>
                                <th>Sold</th>
                                <th>Price</th>
                                <th>Total Sales</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Early Birds</td>
                                <td><input type="number" id="eb_start" placeholder="0" onchange="calculateOccasion()"></td>
                                <td><input type="number" id="eb_free" readonly></td>
                                <td><input type="number" id="eb_end" placeholder="0" onchange="calculateOccasion()"></td>
                                <td><input type="number" id="eb_sold" readonly></td>
                                <td>$2.50</td>
                                <td><input type="number" step="0.01" id="eb_total" readonly></td>
                            </tr>
                            <tr>
                                <td>6 Face</td>
                                <td><input type="number" id="six_start" placeholder="0" onchange="calculateOccasion()"></td>
                                <td><input type="number" id="six_free" readonly></td>
                                <td><input type="number" id="six_end" placeholder="0" onchange="calculateOccasion()"></td>
                                <td><input type="number" id="six_sold" readonly></td>
                                <td>$10.00</td>
                                <td><input type="number" step="0.01" id="six_total" readonly></td>
                            </tr>
                            <tr>
                                <td>Solid Border 9</td>
                                <td><input type="number" id="solid_start" placeholder="0" onchange="calculateOccasion()"></td>
                                <td>0</td>
                                <td><input type="number" id="solid_end" placeholder="0" onchange="calculateOccasion()"></td>
                                <td><input type="number" id="solid_sold" readonly></td>
                                <td>$15.00</td>
                                <td><input type="number" step="0.01" id="solid_total" readonly></td>
                            </tr>
                            <tr>
                                <td>Stripe Border 9</td>
                                <td><input type="number" id="stripe_start" placeholder="0" onchange="calculateOccasion()"></td>
                                <td>0</td>
                                <td><input type="number" id="stripe_end" placeholder="0" onchange="calculateOccasion()"></td>
                                <td><input type="number" id="stripe_sold" readonly></td>
                                <td>$10.00</td>
                                <td><input type="number" step="0.01" id="stripe_total" readonly></td>
                            </tr>
                            <tr>
                                <td>$1.00 Progressives</td>
                                <td><input type="number" id="prog1_start" placeholder="0" onchange="calculateOccasion()"></td>
                                <td>0</td>
                                <td><input type="number" id="prog1_end" placeholder="0" onchange="calculateOccasion()"></td>
                                <td><input type="number" id="prog1_sold" readonly></td>
                                <td>$1.00</td>
                                <td><input type="number" step="0.01" id="prog1_total" readonly></td>
                            </tr>
                            <tr>
                                <td>$5.00 Progressives</td>
                                <td><input type="number" id="prog5_start" placeholder="0" onchange="calculateOccasion()"></td>
                                <td>0</td>
                                <td><input type="number" id="prog5_end" placeholder="0" onchange="calculateOccasion()"></td>
                                <td><input type="number" id="prog5_sold" readonly></td>
                                <td>$5.00</td>
                                <td><input type="number" step="0.01" id="prog5_total" readonly></td>
                            </tr>
                        </tbody>
                    </table>

                    <h3 style="margin: 20px 0 10px 0;">From POS Door Sales Summary (Direct Entry)</h3>
                    <p><small><em>Enter in the order they appear on the POS Door Sales Summary report</em></small></p>
                    <table>
                        <thead>
                            <tr>
                                <th>Item</th>
                                <th>Net Sold</th>
                                <th>Price</th>
                                <th>Net Sales</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>27reg18pro ($40.00) - Small Machines</td>
                                <td><input type="number" id="pos_small" placeholder="0" onchange="calculateOccasion()"></td>
                                <td>$40.00</td>
                                <td><input type="number" step="0.01" id="pos_small_total" readonly></td>
                            </tr>
                            <tr>
                                <td>45reg36pro ($65.00) - Large Machines</td>
                                <td><input type="number" id="pos_large" placeholder="0" onchange="calculateOccasion()"></td>
                                <td>$65.00</td>
                                <td><input type="number" step="0.01" id="pos_large_total" readonly></td>
                            </tr>
                            <tr>
                                <td>Dauber</td>
                                <td><input type="number" id="pos_daubers" placeholder="0" onchange="calculateOccasion()"></td>
                                <td>$2.00</td>
                                <td><input type="number" step="0.01" id="pos_daubers_total" readonly></td>
                            </tr>
                            <tr>
                                <td>6 Face</td>
                                <td><input type="number" id="pos_six" placeholder="0" onchange="calculateOccasion()"></td>
                                <td>$10.00</td>
                                <td><input type="number" step="0.01" id="pos_six_total" readonly></td>
                            </tr>
                            <tr>
                                <td>9 Face Solid</td>
                                <td><input type="number" id="pos_solid" placeholder="0" onchange="calculateOccasion()"></td>
                                <td>$15.00</td>
                                <td><input type="number" step="0.01" id="pos_solid_total" readonly></td>
                            </tr>
                            <tr>
                                <td>9 Face Stripe</td>
                                <td><input type="number" id="pos_stripe" placeholder="0" onchange="calculateOccasion()"></td>
                                <td>$10.00</td>
                                <td><input type="number" step="0.01" id="pos_stripe_total" readonly></td>
                            </tr>
                            <tr>
                                <td>Birthday Pack (BOGO)</td>
                                <td><input type="number" id="pos_birthday" placeholder="0" onchange="calculateOccasion()"></td>
                                <td>$0.00</td>
                                <td><input type="number" step="0.01" id="pos_birthday_total" readonly></td>
                            </tr>
                            <tr>
                                <td>Coverall Extra</td>
                                <td><input type="number" id="pos_coverall_extra" placeholder="0" onchange="calculateOccasion()"></td>
                                <td>$1.00</td>
                                <td><input type="number" step="0.01" id="pos_coverall_extra_total" readonly></td>
                            </tr>
                            <tr>
                                <td>Early Bird Double</td>
                                <td><input type="number" id="pos_eb" placeholder="0" onchange="calculateOccasion()"></td>
                                <td>$5.00</td>
                                <td><input type="number" step="0.01" id="pos_eb_total" readonly></td>
                            </tr>
                            <tr>
                                <td>Letter X Extra</td>
                                <td><input type="number" id="pos_letterx_extra" placeholder="0" onchange="calculateOccasion()"></td>
                                <td>$1.00</td>
                                <td><input type="number" step="0.01" id="pos_letterx_extra_total" readonly></td>
                            </tr>
                            <tr>
                                <td>Number 7 Extra</td>
                                <td><input type="number" id="pos_number7_extra" placeholder="0" onchange="calculateOccasion()"></td>
                                <td>$1.00</td>
                                <td><input type="number" step="0.01" id="pos_number7_extra_total" readonly></td>
                            </tr>
                            <tr>
                                <td>Progressive 18 Face</td>
                                <td><input type="number" id="pos_prog18" placeholder="0" onchange="calculateOccasion()"></td>
                                <td>$5.00</td>
                                <td><input type="number" step="0.01" id="pos_prog18_total" readonly></td>
                            </tr>
                            <tr>
                                <td>Progressive 3 Face</td>
                                <td><input type="number" id="pos_prog3" placeholder="0" onchange="calculateOccasion()"></td>
                                <td>$1.00</td>
                                <td><input type="number" step="0.01" id="pos_prog3_total" readonly></td>
                            </tr>
                        </tbody>
                    </table>

                    <h3 style="margin: 20px 0 10px 0;">Summary</h3>
                    <div class="two-column">
                        <div>
                            <table>
                                <tr>
                                    <td><strong>Total Bingo Sales</strong></td>
                                    <td><input type="number" step="0.01" id="total_bingo_sales" readonly></td>
                                </tr>
                                <tr>
                                    <td><strong>Total Pull-tab Sales</strong></td>
                                    <td><input type="number" step="0.01" id="total_pulltab_sales_occasion" placeholder="0.00"></td>
                                </tr>
                                <tr>
                                    <td><strong>Total Gross Sales</strong></td>
                                    <td><input type="number" step="0.01" id="total_gross_sales" readonly></td>
                                </tr>
                            </table>
                        </div>
                        <div>
                            <table>
                                <tr>
                                    <td><strong>Bingo Cash</strong></td>
                                    <td><input type="number" step="0.01" id="summary_bingo_cash" placeholder="0.00"></td>
                                </tr>
                                <tr>
                                    <td><strong>Pull-tab Cash</strong></td>
                                    <td><input type="number" step="0.01" id="summary_pulltab_cash" placeholder="0.00"></td>
                                </tr>
                                <tr>
                                    <td><strong>Total Cash Deposit</strong></td>
                                    <td><input type="number" step="0.01" id="summary_total_deposit" readonly></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Session Games Sheet Tab -->
        <div id="games" class="tab-content">
            <div class="form-section">
                <div class="section-header">Session Games Sheet</div>
                <div class="section-content">
                    <div class="two-column">
                        <div>
                            <label><strong>Session:</strong></label>
                            <input type="radio" name="games_session" value="5-1" id="games_session_51">
                            <label for="games_session_51">5-1</label>
                            <input type="radio" name="games_session" value="6-2" id="games_session_62">
                            <label for="games_session_62">6-2</label>
                            <input type="radio" name="games_session" value="7-3" id="games_session_73">
                            <label for="games_session_73">7-3</label>
                            <input type="radio" name="games_session" value="8-4" id="games_session_84">
                            <label for="games_session_84">8-4</label>
                        </div>
                        <div>
                            <label><strong>Date:</strong></label>
                            <input type="date" id="games_date">
                        </div>
                    </div>

                    <h3 style="margin: 20px 0 10px 0;">Early Bird Games (1-3)</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Game #</th>
                                <th>Game Name</th>
                                <th>Prize Amount</th>
                                <th>Winners</th>
                                <th>Prize Per Winner</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td><input type="text" id="game1_name" placeholder="Early Bird Game 1"></td>
                                <td><input type="number" step="0.01" id="game1_prize" placeholder="50.00" onchange="calculateGamePrize(1)"></td>
                                <td>
                                    <button class="btn btn-secondary" onclick="changeWinners(1, -1)">-</button>
                                    <input type="number" id="game1_winners" value="1" min="1" style="width: 50px; text-align: center;" onchange="calculateGamePrize(1)">
                                    <button class="btn btn-secondary" onclick="changeWinners(1, 1)">+</button>
                                </td>
                                <td><input type="number" step="0.01" id="game1_per_winner" readonly></td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td><input type="text" id="game2_name" placeholder="Early Bird Game 2"></td>
                                <td><input type="number" step="0.01" id="game2_prize" placeholder="50.00" onchange="calculateGamePrize(2)"></td>
                                <td>
                                    <button class="btn btn-secondary" onclick="changeWinners(2, -1)">-</button>
                                    <input type="number" id="game2_winners" value="1" min="1" style="width: 50px; text-align: center;" onchange="calculateGamePrize(2)">
                                    <button class="btn btn-secondary" onclick="changeWinners(2, 1)">+</button>
                                </td>
                                <td><input type="number" step="0.01" id="game2_per_winner" readonly></td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td><input type="text" id="game3_name" placeholder="Early Bird Game 3"></td>
                                <td><input type="number" step="0.01" id="game3_prize" placeholder="50.00" onchange="calculateGamePrize(3)"></td>
                                <td>
                                    <button class="btn btn-secondary" onclick="changeWinners(3, -1)">-</button>
                                    <input type="number" id="game3_winners" value="1" min="1" style="width: 50px; text-align: center;" onchange="calculateGamePrize(3)">
                                    <button class="btn btn-secondary" onclick="changeWinners(3, 1)">+</button>
                                </td>
                                <td><input type="number" step="0.01" id="game3_per_winner" readonly></td>
                            </tr>
                        </tbody>
                    </table>

                    <h3 style="margin: 20px 0 10px 0;">Regular Bingo Games (4-8, 10-12, 14-17)</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Game #</th>
                                <th>Game Name</th>
                                <th>Prize Amount</th>
                                <th>Winners</th>
                                <th>Prize Per Winner</th>
                            </tr>
                        </thead>
                        <tbody id="regular_games_body">
                            <!-- Regular games will be populated by JavaScript -->
                        </tbody>
                    </table>

                    <h3 style="margin: 20px 0 10px 0;">Special Games</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Game #</th>
                                <th>Game Name</th>
                                <th>Prize Amount</th>
                                <th>Winners</th>
                                <th>Prize Per Winner</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>9</td>
                                <td><input type="text" id="game9_name" placeholder="Special Event Pull-tab"></td>
                                <td><input type="number" step="0.01" id="game9_prize" placeholder="Variable" onchange="calculateGamePrize(9)"></td>
                                <td>
                                    <button class="btn btn-secondary" onclick="changeWinners(9, -1)">-</button>
                                    <input type="number" id="game9_winners" value="1" min="1" style="width: 50px; text-align: center;" onchange="calculateGamePrize(9)">
                                    <button class="btn btn-secondary" onclick="changeWinners(9, 1)">+</button>
                                </td>
                                <td><input type="number" step="0.01" id="game9_per_winner" readonly></td>
                            </tr>
                            <tr>
                                <td>13</td>
                                <td><input type="text" id="game13_name" placeholder="Progressive Diamond"></td>
                                <td><input type="number" step="0.01" id="game13_prize" placeholder="Progressive" onchange="calculateGamePrize(13)"></td>
                                <td>
                                    <button class="btn btn-secondary" onclick="changeWinners(13, -1)">-</button>
                                    <input type="number" id="game13_winners" value="1" min="1" style="width: 50px; text-align: center;" onchange="calculateGamePrize(13)">
                                    <button class="btn btn-secondary" onclick="changeWinners(13, 1)">+</button>
                                </td>
                                <td><input type="number" step="0.01" id="game13_per_winner" readonly></td>
                            </tr>
                        </tbody>
                    </table>

                    <h3 style="margin: 20px 0 10px 0;">Prize Summary</h3>
                    <div class="two-column">
                        <table>
                            <tr>
                                <td><strong>Total Early Bird Prizes:</strong></td>
                                <td><input type="number" step="0.01" id="total_earlybird_prizes" readonly></td>
                            </tr>
                            <tr>
                                <td><strong>Total Regular Prizes:</strong></td>
                                <td><input type="number" step="0.01" id="total_regular_prizes" readonly></td>
                            </tr>
                            <tr>
                                <td><strong>Total Special Prizes:</strong></td>
                                <td><input type="number" step="0.01" id="total_special_prizes" readonly></td>
                            </tr>
                        </table>
                        <table>
                            <tr class="subtotal-row">
                                <td><strong>Total Bingo Prizes Paid:</strong></td>
                                <td><input type="number" step="0.01" id="total_bingo_prizes" readonly></td>
                            </tr>
                            <tr>
                                <td><strong>Pull-tab Prizes Paid:</strong></td>
                                <td><input type="number" step="0.01" id="total_pulltab_prizes" placeholder="0.00"></td>
                            </tr>
                            <tr class="subtotal-row">
                                <td><strong>TOTAL PRIZES PAID:</strong></td>
                                <td><input type="number" step="0.01" id="grand_total_prizes" readonly></td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Pull-Tab Summary Tab -->
        <div id="pulltab" class="tab-content">
            <div class="form-section">
                <div class="section-header">Pull-Tab Nightly Summary</div>
                <div class="section-content">
                    <div class="two-column">
                        <div>
                            <label><strong>Lion in Charge of Pull Tabs:</strong></label>
                            <input type="text" id="pulltab_lion" placeholder="Enter Lion's name">
                        </div>
                        <div>
                            <label><strong>Date:</strong></label>
                            <input type="date" id="pulltab_date">
                        </div>
                    </div>

                    <h3 style="margin: 20px 0 10px 0;">Pull Tab Games</h3>
                    <div class="calculating-only" style="margin-bottom: 15px;">
                        <button class="btn btn-secondary" onclick="addPulltabGame()">Add Manual Game</button>
                        <button class="btn btn-secondary" onclick="removePulltabGame()">Remove Last Game</button>
                        <button class="btn btn-secondary" onclick="updateGameLibrary()">Update Game Library</button>
                        <button class="btn btn-secondary" onclick="exportGameData()">Export Data</button>
                    </div>
                    <table id="pulltab_games_table">
                        <thead>
                            <tr>
                                <th>Game Selection</th>
                                <th>Serial Number</th>
                                <th>Price/Ticket</th>
                                <th>Tickets Sold</th>
                                <th>Prizes Paid</th>
                                <th>Ideal Profit</th>
                                <th>Sales</th>
                            </tr>
                        </thead>
                        <tbody id="pulltab_games_body">
                            <!-- Games will be populated by JavaScript -->
                        </tbody>
                    </table>

                    <table style="margin-top: 20px; width: 300px;">
                        <tr>
                            <td><strong>TOTAL Ideal Profit:</strong></td>
                            <td><input type="number" step="0.01" id="pulltab_total_ideal" readonly></td>
                        </tr>
                        <tr>
                            <td><strong>TOTAL Sales:</strong></td>
                            <td><input type="number" step="0.01" id="pulltab_total_sales" readonly></td>
                        </tr>
                    </table>

                    <h3 style="margin: 20px 0 10px 0;">Money Turned In</h3>
                    <div class="two-column">
                        <table>
                            <tr>
                                <td>A. Hundreds</td>
                                <td><input type="number" step="0.01" id="pt_hundreds" placeholder="0.00" onchange="calculatePulltab()"></td>
                            </tr>
                            <tr>
                                <td>B. Fifties</td>
                                <td><input type="number" step="0.01" id="pt_fifties" placeholder="0.00" onchange="calculatePulltab()"></td>
                            </tr>
                            <tr>
                                <td>C. Twenties</td>
                                <td><input type="number" step="0.01" id="pt_twenties" placeholder="0.00" onchange="calculatePulltab()"></td>
                            </tr>
                            <tr>
                                <td>D. Tens</td>
                                <td><input type="number" step="0.01" id="pt_tens" placeholder="0.00" onchange="calculatePulltab()"></td>
                            </tr>
                            <tr>
                                <td>E. Fives</td>
                                <td><input type="number" step="0.01" id="pt_fives" placeholder="0.00" onchange="calculatePulltab()"></td>
                            </tr>
                            <tr>
                                <td>F. Ones</td>
                                <td><input type="number" step="0.01" id="pt_ones" placeholder="0.00" onchange="calculatePulltab()"></td>
                            </tr>
                        </table>
                        <table>
                            <tr>
                                <td>G. Quarters</td>
                                <td><input type="number" step="0.01" id="pt_quarters" placeholder="0.00" onchange="calculatePulltab()"></td>
                            </tr>
                            <tr>
                                <td>H. Dimes</td>
                                <td><input type="number" step="0.01" id="pt_dimes" placeholder="0.00" onchange="calculatePulltab()"></td>
                            </tr>
                            <tr>
                                <td>I. Nickels</td>
                                <td><input type="number" step="0.01" id="pt_nickels" placeholder="0.00" onchange="calculatePulltab()"></td>
                            </tr>
                            <tr>
                                <td>J. Pennies</td>
                                <td><input type="number" step="0.01" id="pt_pennies" placeholder="0.00" onchange="calculatePulltab()"></td>
                            </tr>
                            <tr class="subtotal-row">
                                <td><strong>DEPOSIT TOTAL</strong></td>
                                <td><input type="number" step="0.01" id="pt_deposit_total" readonly></td>
                            </tr>
                        </table>
                    </div>

                    <h3 style="margin: 20px 0 10px 0;">Profit Calculation</h3>
                    <table style="width: 400px;">
                        <tr>
                            <td>K. Deposit</td>
                            <td><input type="number" step="0.01" id="pt_calc_deposit" readonly></td>
                        </tr>
                        <tr>
                            <td>L. Less Sales</td>
                            <td><input type="number" step="0.01" id="pt_calc_sales" readonly></td>
                        </tr>
                        <tr>
                            <td>M. Less Ideal</td>
                            <td><input type="number" step="0.01" id="pt_calc_ideal" readonly></td>
                        </tr>
                        <tr>
                            <td><strong>Net Pull Tab Profits</strong></td>
                            <td><input type="number" step="0.01" id="pt_net_profits" readonly></td>
                        </tr>
                        <tr>
                            <td>N. Turn In</td>
                            <td><input type="number" step="0.01" id="pt_turn_in" placeholder="550.00" onchange="calculatePulltab()"></td>
                        </tr>
                        <tr>
                            <td>O. Less Start Up</td>
                            <td><input type="number" step="0.01" id="pt_start_up" value="550.00" onchange="calculatePulltab()"></td>
                        </tr>
                        <tr class="subtotal-row">
                            <td><strong>TOTAL</strong></td>
                            <td><input type="number" step="0.01" id="pt_final_total" readonly></td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script>
        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));

            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        function calculateMoney() {
            const denominations = ['100s', '50s', '20s', '10s', '5s', '2s', '1s', 'dollars', 'halves', 'quarters', 'dimes', 'nickels', 'pennies'];
            const values = [100, 50, 20, 10, 5, 2, 1, 1, 0.5, 0.25, 0.10, 0.05, 0.01];

            let bingoSubtotal = 0;
            let pulltabSubtotal = 0;

            denominations.forEach((denom, index) => {
                const bingoVal = parseFloat(document.getElementById(`bingo_${denom}`).value) || 0;
                const pulltabVal = parseFloat(document.getElementById(`pulltab_${denom}`).value) || 0;
                const totalVal = bingoVal + pulltabVal;

                document.getElementById(`total_${denom}`).value = totalVal;

                bingoSubtotal += bingoVal * values[index];
                pulltabSubtotal += pulltabVal * values[index];
            });

            const bingoChecks = parseFloat(document.getElementById('bingo_checks').value) || 0;
            document.getElementById('total_checks').value = bingoChecks;

            const bingoTotal = bingoSubtotal + bingoChecks;
            const totalTotal = bingoTotal + pulltabSubtotal;

            document.getElementById('bingo_subtotal').value = bingoSubtotal.toFixed(2);
            document.getElementById('pulltab_subtotal').value = pulltabSubtotal.toFixed(2);
            document.getElementById('total_subtotal').value = (bingoSubtotal + pulltabSubtotal).toFixed(2);

            document.getElementById('bingo_total').value = bingoTotal.toFixed(2);
            document.getElementById('pulltab_total').value = pulltabSubtotal.toFixed(2);
            document.getElementById('grand_total').value = totalTotal.toFixed(2);
        }

        function calculateOccasion() {
            // Get Birthday Pack sales from POS to calculate free items
            const birthdayPacks = parseInt(document.getElementById('pos_birthday').value) || 0;

            // Calculate free items from Birthday Packs (1 Early Bird Double + 1 6 Face per birthday BOGO)
            document.getElementById('eb_free').value = birthdayPacks * 2; // 1 Early Bird Double = 2 Early Birds
            document.getElementById('six_free').value = birthdayPacks;

            // Calculate sold amounts for paper counts
            const items = ['eb', 'six', 'solid', 'stripe', 'prog1', 'prog5'];
            const prices = [2.50, 10.00, 15.00, 10.00, 1.00, 5.00];

            items.forEach((item, index) => {
                const start = parseInt(document.getElementById(`${item}_start`).value) || 0;
                const end = parseInt(document.getElementById(`${item}_end`).value) || 0;
                const free = parseInt(document.getElementById(`${item}_free`).value) || 0;
                const sold = start - end - free;
                const total = sold * prices[index];

                document.getElementById(`${item}_sold`).value = Math.max(0, sold);
                document.getElementById(`${item}_total`).value = Math.max(0, total).toFixed(2);
            });

            // Calculate POS sales (all items in proper order)
            const posItems = [
                {id: 'small', price: 40.00},
                {id: 'large', price: 65.00},
                {id: 'daubers', price: 2.00},
                {id: 'six', price: 10.00},
                {id: 'solid', price: 15.00},
                {id: 'stripe', price: 10.00},
                {id: 'birthday', price: 0.00},
                {id: 'coverall_extra', price: 1.00},
                {id: 'eb', price: 5.00},
                {id: 'letterx_extra', price: 1.00},
                {id: 'number7_extra', price: 1.00},
                {id: 'prog18', price: 5.00},
                {id: 'prog3', price: 1.00}
            ];

            let totalBingoSales = 0;

            posItems.forEach(item => {
                const sold = parseInt(document.getElementById(`pos_${item.id}`).value) || 0;
                const total = sold * item.price;
                document.getElementById(`pos_${item.id}_total`).value = total.toFixed(2);
                totalBingoSales += total;
            });

            document.getElementById('total_bingo_sales').value = totalBingoSales.toFixed(2);

            // Calculate totals
            const pulltabSales = parseFloat(document.getElementById('total_pulltab_sales_occasion').value) || 0;
            const grossSales = totalBingoSales + pulltabSales;
            document.getElementById('total_gross_sales').value = grossSales.toFixed(2);

            const bingoCash = parseFloat(document.getElementById('summary_bingo_cash').value) || 0;
            const pulltabCash = parseFloat(document.getElementById('summary_pulltab_cash').value) || 0;
            document.getElementById('summary_total_deposit').value = (bingoCash + pulltabCash).toFixed(2);
        }

        // Pull-tab game library data (from CSV)
        const gameLibrary = [
            {name: "Beat the Clock $599", totalTickets: 960, idealProfit: 361, pricePerTicket: 1.00},
            {name: "Black Jack $175", totalTickets: 250, idealProfit: 75, pricePerTicket: 1.00},
            {name: "Black Jack $200", totalTickets: 300, idealProfit: 100, pricePerTicket: 1.00},
            {name: "Black Jack $280", totalTickets: 400, idealProfit: 120, pricePerTicket: 1.00},
            {name: "Black Jack $400", totalTickets: 600, idealProfit: 200, pricePerTicket: 1.00},
            {name: "Black Jack $599", totalTickets: 840, idealProfit: 241, pricePerTicket: 1.00},
            {name: "Black Jack $700", totalTickets: 1000, idealProfit: 300, pricePerTicket: 1.00},
            {name: "Bubble Gum $100", totalTickets: 150, idealProfit: 50, pricePerTicket: 1.00},
            {name: "Bubble Gum $175", totalTickets: 250, idealProfit: 75, pricePerTicket: 1.00},
            {name: "Bubble Gum $280", totalTickets: 400, idealProfit: 120, pricePerTicket: 1.00},
            {name: "Bubble Gum $325", totalTickets: 500, idealProfit: 175, pricePerTicket: 1.00},
            {name: "Bubble Gum $400", totalTickets: 600, idealProfit: 200, pricePerTicket: 1.00},
            {name: "Bubble Gum $599", totalTickets: 840, idealProfit: 241, pricePerTicket: 1.00},
            {name: "Bubble Gum $700", totalTickets: 1000, idealProfit: 300, pricePerTicket: 1.00},
            {name: "Chase Your Dreams $200", totalTickets: 300, idealProfit: 100, pricePerTicket: 1.00},
            {name: "Chocolate $100", totalTickets: 150, idealProfit: 50, pricePerTicket: 1.00},
            {name: "Chocolate $175", totalTickets: 250, idealProfit: 75, pricePerTicket: 1.00},
            {name: "Chocolate $280", totalTickets: 400, idealProfit: 120, pricePerTicket: 1.00},
            {name: "Chocolate $325", totalTickets: 500, idealProfit: 175, pricePerTicket: 1.00},
            {name: "Chocolate $400", totalTickets: 600, idealProfit: 200, pricePerTicket: 1.00},
            {name: "Chocolate $599", totalTickets: 840, idealProfit: 241, pricePerTicket: 1.00},
            {name: "Chocolate $700", totalTickets: 1000, idealProfit: 300, pricePerTicket: 1.00},
            {name: "Claw Enforcement $175", totalTickets: 280, idealProfit: 105, pricePerTicket: 1.00},
            {name: "Cotton Candy $100", totalTickets: 150, idealProfit: 50, pricePerTicket: 1.00},
            {name: "Cotton Candy $175", totalTickets: 250, idealProfit: 75, pricePerTicket: 1.00},
            {name: "Cotton Candy $280", totalTickets: 400, idealProfit: 120, pricePerTicket: 1.00},
            {name: "Cotton Candy $325", totalTickets: 500, idealProfit: 175, pricePerTicket: 1.00},
            {name: "Cotton Candy $400", totalTickets: 600, idealProfit: 200, pricePerTicket: 1.00},
            {name: "Cotton Candy $599", totalTickets: 840, idealProfit: 241, pricePerTicket: 1.00},
            {name: "Cotton Candy $700", totalTickets: 1000, idealProfit: 300, pricePerTicket: 1.00},
            {name: "Crap Shoot $175", totalTickets: 250, idealProfit: 75, pricePerTicket: 1.00},
            {name: "Crap Shoot $200", totalTickets: 300, idealProfit: 100, pricePerTicket: 1.00},
            {name: "Crap Shoot $280", totalTickets: 400, idealProfit: 120, pricePerTicket: 1.00},
            {name: "Crap Shoot $400", totalTickets: 600, idealProfit: 200, pricePerTicket: 1.00},
            {name: "Crap Shoot $599", totalTickets: 840, idealProfit: 241, pricePerTicket: 1.00},
            {name: "Crap Shoot $700", totalTickets: 1000, idealProfit: 300, pricePerTicket: 1.00},
            {name: "Double Bubble $140", totalTickets: 200, idealProfit: 60, pricePerTicket: 1.00},
            {name: "Double Bubble $175", totalTickets: 250, idealProfit: 75, pricePerTicket: 1.00},
            {name: "Double Bubble $280", totalTickets: 400, idealProfit: 120, pricePerTicket: 1.00},
            {name: "Double Bubble $425", totalTickets: 600, idealProfit: 175, pricePerTicket: 1.00},
            {name: "Gator Dab $175", totalTickets: 250, idealProfit: 75, pricePerTicket: 1.00},
            {name: "Gator Dab $280", totalTickets: 400, idealProfit: 120, pricePerTicket: 1.00},
            {name: "Gator Dab $400", totalTickets: 600, idealProfit: 200, pricePerTicket: 1.00},
            {name: "Gator Dab $700", totalTickets: 1000, idealProfit: 300, pricePerTicket: 1.00},
            {name: "Gotcha $140", totalTickets: 200, idealProfit: 60, pricePerTicket: 1.00},
            {name: "Gotcha $280", totalTickets: 400, idealProfit: 120, pricePerTicket: 1.00},
            {name: "Gotcha $425", totalTickets: 600, idealProfit: 175, pricePerTicket: 1.00},
            {name: "Lion Dab $175", totalTickets: 250, idealProfit: 75, pricePerTicket: 1.00},
            {name: "Lion Dab $280", totalTickets: 400, idealProfit: 120, pricePerTicket: 1.00},
            {name: "Lion Dab $400", totalTickets: 600, idealProfit: 200, pricePerTicket: 1.00},
            {name: "Lion Dab $700", totalTickets: 1000, idealProfit: 300, pricePerTicket: 1.00},
            {name: "Lollipops $100", totalTickets: 150, idealProfit: 50, pricePerTicket: 1.00},
            {name: "Lollipops $175", totalTickets: 250, idealProfit: 75, pricePerTicket: 1.00},
            {name: "Lollipops $280", totalTickets: 400, idealProfit: 120, pricePerTicket: 1.00},
            {name: "Lollipops $325", totalTickets: 500, idealProfit: 175, pricePerTicket: 1.00},
            {name: "Lollipops $400", totalTickets: 600, idealProfit: 200, pricePerTicket: 1.00},
            {name: "Lollipops $599", totalTickets: 840, idealProfit: 241, pricePerTicket: 1.00},
            {name: "Lollipops $700", totalTickets: 1000, idealProfit: 300, pricePerTicket: 1.00},
            {name: "Luckies $100", totalTickets: 140, idealProfit: 40, pricePerTicket: 1.00},
            {name: "Luckies $200", totalTickets: 300, idealProfit: 100, pricePerTicket: 1.00},
            {name: "Luckies $350", totalTickets: 550, idealProfit: 200, pricePerTicket: 1.00},
            {name: "Luckies $500", totalTickets: 770, idealProfit: 270, pricePerTicket: 1.00},
            {name: "Monopoly Chance It $140", totalTickets: 230, idealProfit: 90, pricePerTicket: 1.00},
            {name: "Monopoly Chance It $280", totalTickets: 440, idealProfit: 160, pricePerTicket: 1.00},
            {name: "Monopoly Chance It $400", totalTickets: 660, idealProfit: 260, pricePerTicket: 1.00},
            {name: "Monopoly Chance It $599", totalTickets: 960, idealProfit: 361, pricePerTicket: 1.00},
            {name: "Panda Dab $175", totalTickets: 250, idealProfit: 75, pricePerTicket: 1.00},
            {name: "Panda Dab $280", totalTickets: 400, idealProfit: 120, pricePerTicket: 1.00},
            {name: "Panda Dab $400", totalTickets: 600, idealProfit: 200, pricePerTicket: 1.00},
            {name: "Panda Dab $700", totalTickets: 1000, idealProfit: 300, pricePerTicket: 1.00},
            {name: "Patriot Bingo $140", totalTickets: 200, idealProfit: 60, pricePerTicket: 1.00},
            {name: "Patriot Bingo $280", totalTickets: 400, idealProfit: 120, pricePerTicket: 1.00},
            {name: "Patriot Bingo $599", totalTickets: 840, idealProfit: 241, pricePerTicket: 1.00},
            {name: "Pot of Gold $140", totalTickets: 230, idealProfit: 90, pricePerTicket: 1.00},
            {name: "Pot of Gold $280", totalTickets: 440, idealProfit: 160, pricePerTicket: 1.00},
            {name: "Pot of Gold $400", totalTickets: 660, idealProfit: 260, pricePerTicket: 1.00},
            {name: "Quad Runner $100", totalTickets: 150, idealProfit: 50, pricePerTicket: 1.00},
            {name: "Quad Runner $130", totalTickets: 200, idealProfit: 70, pricePerTicket: 1.00},
            {name: "Quad Runner $140", totalTickets: 200, idealProfit: 60, pricePerTicket: 1.00},
            {name: "Quad Runner $165", totalTickets: 250, idealProfit: 85, pricePerTicket: 1.00},
            {name: "Quad Runner $175", totalTickets: 250, idealProfit: 75, pricePerTicket: 1.00},
            {name: "Quad Runner $210", totalTickets: 325, idealProfit: 115, pricePerTicket: 1.00},
            {name: "Quad Runner $260", totalTickets: 400, idealProfit: 140, pricePerTicket: 1.00},
            {name: "Quad Runner $280", totalTickets: 400, idealProfit: 120, pricePerTicket: 1.00},
            {name: "Quad Runner $390", totalTickets: 600, idealProfit: 210, pricePerTicket: 1.00},
            {name: "Quad Runner $500", totalTickets: 775, idealProfit: 275, pricePerTicket: 1.00},
            {name: "Roulette $175", totalTickets: 250, idealProfit: 75, pricePerTicket: 1.00},
            {name: "Roulette $200", totalTickets: 300, idealProfit: 100, pricePerTicket: 1.00},
            {name: "Roulette $280", totalTickets: 400, idealProfit: 120, pricePerTicket: 1.00},
            {name: "Roulette $400", totalTickets: 600, idealProfit: 200, pricePerTicket: 1.00},
            {name: "Roulette $599", totalTickets: 840, idealProfit: 241, pricePerTicket: 1.00},
            {name: "Roulette $700", totalTickets: 1000, idealProfit: 300, pricePerTicket: 1.00},
            {name: "Slots $175", totalTickets: 250, idealProfit: 75, pricePerTicket: 1.00},
            {name: "Slots $200", totalTickets: 300, idealProfit: 100, pricePerTicket: 1.00},
            {name: "Slots $280", totalTickets: 400, idealProfit: 120, pricePerTicket: 1.00},
            {name: "Slots $400", totalTickets: 600, idealProfit: 200, pricePerTicket: 1.00},
            {name: "Slots $599", totalTickets: 840, idealProfit: 241, pricePerTicket: 1.00},
            {name: "Slots $700", totalTickets: 1000, idealProfit: 300, pricePerTicket: 1.00},
            {name: "Small Ball $175", totalTickets: 250, idealProfit: 75, pricePerTicket: 1.00},
            {name: "Small Ball $200", totalTickets: 300, idealProfit: 100, pricePerTicket: 1.00},
            {name: "Small Ball $280", totalTickets: 400, idealProfit: 120, pricePerTicket: 1.00},
            {name: "Small Ball $400", totalTickets: 600, idealProfit: 200, pricePerTicket: 1.00},
            {name: "Small Ball $599", totalTickets: 840, idealProfit: 241, pricePerTicket: 1.00},
            {name: "Small Ball $700", totalTickets: 1000, idealProfit: 300, pricePerTicket: 1.00},
            {name: "Tiger Dab $175", totalTickets: 250, idealProfit: 75, pricePerTicket: 1.00},
            {name: "Tiger Dab $280", totalTickets: 400, idealProfit: 120, pricePerTicket: 1.00},
            {name: "Tiger Dab $400", totalTickets: 600, idealProfit: 200, pricePerTicket: 1.00},
            {name: "Tiger Dab $700", totalTickets: 1000, idealProfit: 300, pricePerTicket: 1.00},
            {name: "Triple Twist $110", totalTickets: 150, idealProfit: 40, pricePerTicket: 1.00},
            {name: "Triple Twist $175", totalTickets: 250, idealProfit: 75, pricePerTicket: 1.00},
            {name: "Triple Twist $280", totalTickets: 400, idealProfit: 120, pricePerTicket: 1.00},
            {name: "Triple Twist $400", totalTickets: 600, idealProfit: 200, pricePerTicket: 1.00},
            {name: "Triple Twist $700", totalTickets: 1000, idealProfit: 300, pricePerTicket: 1.00}
        ];

        // Pull-tab calculations
        let pulltabGameCount = 15;

        function createGameDropdown(gameId) {
            let options = '<option value="">Select game or enter manually</option>';
            gameLibrary.forEach((game, index) => {
                options += `<option value="${index}">${game.name}</option>`;
            });
            return `<select id="game_select_${gameId}" onchange="populateGameData(${gameId})" style="width: 100%;">${options}</select>`;
        }

        function populateGameData(gameId) {
            const selectElement = document.getElementById(`game_select_${gameId}`);
            const selectedIndex = selectElement.value;

            if (selectedIndex !== '') {
                const gameData = gameLibrary[selectedIndex];
                document.getElementById(`game_name_${gameId}`).value = gameData.name;
                document.getElementById(`game_price_${gameId}`).value = gameData.pricePerTicket.toFixed(2);
                document.getElementById(`game_tickets_${gameId}`).placeholder = gameData.totalTickets;
                document.getElementById(`game_ideal_${gameId}`).placeholder = gameData.idealProfit.toFixed(2);
            }
        }

        function calculatePulltabGame(gameId) {
            const ticketsSold = parseInt(document.getElementById(`game_tickets_${gameId}`).value) || 0;
            const prizesPaid = parseFloat(document.getElementById(`game_prizes_${gameId}`).value) || 0;
            const pricePerTicket = parseFloat(document.getElementById(`game_price_${gameId}`).value) || 1.00;

            // Calculate ideal profit: Sales - Prizes Paid
            const sales = ticketsSold * pricePerTicket;
            const idealProfit = sales - prizesPaid;

            document.getElementById(`game_sales_${gameId}`).value = sales.toFixed(2);
            document.getElementById(`game_ideal_${gameId}`).value = idealProfit.toFixed(2);

            calculatePulltabTotals();
        }

        function initializePulltabGames() {
            const tbody = document.getElementById('pulltab_games_body');
            tbody.innerHTML = '';

            for (let i = 1; i <= pulltabGameCount; i++) {
                addPulltabGameRow(i);
            }

            // Add special event row
            const specialRow = tbody.insertRow();
            specialRow.innerHTML = `
                <td>${createGameDropdown('special')}</td>
                <td><input type="text" id="game_serial_special" placeholder="Serial #"></td>
                <td><input type="number" step="0.01" id="game_price_special" value="1.00" onchange="calculatePulltabGame('special')"></td>
                <td><input type="number" id="game_tickets_special" placeholder="0" onchange="calculatePulltabGame('special')"></td>
                <td><input type="number" step="0.01" id="game_prizes_special" placeholder="0.00" onchange="calculatePulltabGame('special')"></td>
                <td><input type="number" step="0.01" id="game_ideal_special" placeholder="0.00" readonly></td>
                <td><input type="number" step="0.01" id="game_sales_special" placeholder="0.00" readonly></td>
            `;
            specialRow.innerHTML += '<input type="hidden" id="game_name_special" value="Special Event Game">';
        }

        function addPulltabGameRow(num) {
            const tbody = document.getElementById('pulltab_games_body');
            const row = tbody.insertRow();
            row.innerHTML = `
                <td>${createGameDropdown(num)}</td>
                <td><input type="text" id="game_serial_${num}" placeholder="Serial #"></td>
                <td><input type="number" step="0.01" id="game_price_${num}" value="1.00" onchange="calculatePulltabGame(${num})"></td>
                <td><input type="number" id="game_tickets_${num}" placeholder="0" onchange="calculatePulltabGame(${num})"></td>
                <td><input type="number" step="0.01" id="game_prizes_${num}" placeholder="0.00" onchange="calculatePulltabGame(${num})"></td>
                <td><input type="number" step="0.01" id="game_ideal_${num}" placeholder="0.00" readonly></td>
                <td><input type="number" step="0.01" id="game_sales_${num}" placeholder="0.00" readonly></td>
            `;
            row.innerHTML += `<input type="hidden" id="game_name_${num}" placeholder="Game ${num}">`;
        }

        function addPulltabGame() {
            if (pulltabGameCount < 20) {
                pulltabGameCount++;
                const tbody = document.getElementById('pulltab_games_body');
                const newRow = tbody.insertRow(tbody.rows.length - 1);
                newRow.innerHTML = `
                    <td>${createGameDropdown(pulltabGameCount)}</td>
                    <td><input type="text" id="game_serial_${pulltabGameCount}" placeholder="Serial #"></td>
                    <td><input type="number" step="0.01" id="game_price_${pulltabGameCount}" value="1.00" onchange="calculatePulltabGame(${pulltabGameCount})"></td>
                    <td><input type="number" id="game_tickets_${pulltabGameCount}" placeholder="0" onchange="calculatePulltabGame(${pulltabGameCount})"></td>
                    <td><input type="number" step="0.01" id="game_prizes_${pulltabGameCount}" placeholder="0.00" onchange="calculatePulltabGame(${pulltabGameCount})"></td>
                    <td><input type="number" step="0.01" id="game_ideal_${pulltabGameCount}" placeholder="0.00" readonly></td>
                    <td><input type="number" step="0.01" id="game_sales_${pulltabGameCount}" placeholder="0.00" readonly></td>
                `;
                newRow.innerHTML += `<input type="hidden" id="game_name_${pulltabGameCount}" placeholder="Game ${pulltabGameCount}">`;
            }
        }

        function removePulltabGame() {
            if (pulltabGameCount > 10) {
                const tbody = document.getElementById('pulltab_games_body');
                tbody.deleteRow(tbody.rows.length - 2); // Delete second to last (before special event)
                pulltabGameCount--;
            }
        }

        function updateGameLibrary() {
            const csvData = prompt('Paste CSV data for game library update:\nFormat: Game Name,Total Tickets,Ideal Profit,Price Per Ticket');
            if (csvData) {
                try {
                    const lines = csvData.split('\n');
                    const newGames = [];

                    lines.forEach((line, index) => {
                        if (line.trim() && index > 0) { // Skip header
                            const [name, totalTickets, idealProfit, pricePerTicket] = line.split(',');
                            if (name && totalTickets && idealProfit) {
                                newGames.push({
                                    name: name.trim(),
                                    totalTickets: parseInt(totalTickets) || 0,
                                    idealProfit: parseFloat(idealProfit) || 0,
                                    pricePerTicket: parseFloat(pricePerTicket) || 1.00
                                });
                            }
                        }
                    });

                    if (newGames.length > 0) {
                        gameLibrary.push(...newGames);
                        localStorage.setItem('pulltabGameLibrary', JSON.stringify(gameLibrary));
                        alert(`Added ${newGames.length} new games to library!`);

                        // Refresh current dropdowns
                        initializePulltabGames();
                    }
                } catch (error) {
                    alert('Error parsing CSV data. Please check format.');
                }
            }
        }

        function exportGameData() {
            const gameData = [];

            // Export current session data
            for (let i = 1; i <= pulltabGameCount; i++) {
                const gameName = document.getElementById(`game_name_${i}`).value;
                const serial = document.getElementById(`game_serial_${i}`).value;
                const price = document.getElementById(`game_price_${i}`).value;
                const tickets = document.getElementById(`game_tickets_${i}`).value;
                const prizes = document.getElementById(`game_prizes_${i}`).value;
                const ideal = document.getElementById(`game_ideal_${i}`).value;
                const sales = document.getElementById(`game_sales_${i}`).value;

                if (gameName || serial || tickets || prizes) {
                    gameData.push({
                        gameName, serial, price, tickets, prizes, ideal, sales
                    });
                }
            }

            // Add special event
            const specialName = document.getElementById(`game_name_special`).value;
            const specialData = {
                gameName: specialName,
                serial: document.getElementById(`game_serial_special`).value,
                price: document.getElementById(`game_price_special`).value,
                tickets: document.getElementById(`game_tickets_special`).value,
                prizes: document.getElementById(`game_prizes_special`).value,
                ideal: document.getElementById(`game_ideal_special`).value,
                sales: document.getElementById(`game_sales_special`).value
            };

            if (specialData.gameName || specialData.serial || specialData.tickets) {
                gameData.push(specialData);
            }

            const csvContent = 'Game Name,Serial Number,Price Per Ticket,Tickets Sold,Prizes Paid,Ideal Profit,Sales\n' +
                gameData.map(game => `${game.gameName},${game.serial},${game.price},${game.tickets},${game.prizes},${game.ideal},${game.sales}`).join('\n');

            const blob = new Blob([csvContent], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `pulltab-session-${new Date().toISOString().split('T')[0]}.csv`;
            a.click();
            window.URL.revokeObjectURL(url);
        }

        function calculatePulltabTotals() {
            let totalIdeal = 0;
            let totalSales = 0;

            // Calculate regular games
            for (let i = 1; i <= pulltabGameCount; i++) {
                const ideal = parseFloat(document.getElementById(`game_ideal_${i}`).value) || 0;
                const sales = parseFloat(document.getElementById(`game_sales_${i}`).value) || 0;
                totalIdeal += ideal;
                totalSales += sales;
            }

            // Add special event
            const specialIdeal = parseFloat(document.getElementById('game_ideal_special').value) || 0;
            const specialSales = parseFloat(document.getElementById('game_sales_special').value) || 0;
            totalIdeal += specialIdeal;
            totalSales += specialSales;

            document.getElementById('pulltab_total_ideal').value = totalIdeal.toFixed(2);
            document.getElementById('pulltab_total_sales').value = totalSales.toFixed(2);

            calculatePulltab();
        }

        function calculatePulltab() {
            const denominations = ['hundreds', 'fifties', 'twenties', 'tens', 'fives', 'ones', 'quarters', 'dimes', 'nickels', 'pennies'];
            let depositTotal = 0;

            denominations.forEach(denom => {
                const value = parseFloat(document.getElementById(`pt_${denom}`).value) || 0;
                depositTotal += value;
            });

            document.getElementById('pt_deposit_total').value = depositTotal.toFixed(2);
            document.getElementById('pt_calc_deposit').value = depositTotal.toFixed(2);

            const totalSales = parseFloat(document.getElementById('pulltab_total_sales').value) || 0;
            const totalIdeal = parseFloat(document.getElementById('pulltab_total_ideal').value) || 0;

            document.getElementById('pt_calc_sales').value = totalSales.toFixed(2);
            document.getElementById('pt_calc_ideal').value = totalIdeal.toFixed(2);

            const netProfits = depositTotal - totalSales - totalIdeal;
            document.getElementById('pt_net_profits').value = netProfits.toFixed(2);

            const turnIn = parseFloat(document.getElementById('pt_turn_in').value) || 550;
            const startUp = parseFloat(document.getElementById('pt_start_up').value) || 550;
            const finalTotal = turnIn - startUp;

            document.getElementById('pt_final_total').value = finalTotal.toFixed(2);
        }

        function printBlankForm() {
            const qty = parseInt(document.getElementById('printQty').value) || 1;
            const activeTab = document.querySelector('.tab-content.active').id;

            // Add blank form print class to hide values
            document.body.classList.add('blank-form-print');
            document.querySelector(`#${activeTab}`).classList.add('print-active');

            // Clear all input values temporarily for blank printing
            const inputs = document.querySelectorAll(`#${activeTab} input`);
            const originalValues = {};

            inputs.forEach(input => {
                originalValues[input.id] = input.value;
                if (input.value === '0' || input.value === '0.00' || input.value === '') {
                    input.value = '';
                    input.removeAttribute('value');
                }
            });

            // Print
            window.print();

            // Restore original values
            inputs.forEach(input => {
                if (originalValues[input.id] !== undefined) {
                    input.value = originalValues[input.id];
                }
            });

            // Remove print classes
            document.body.classList.remove('blank-form-print');
            document.querySelector(`#${activeTab}`).classList.remove('print-active');
        }

        function printCompletedForm() {
            const activeTab = document.querySelector('.tab-content.active').id;
            document.querySelector(`#${activeTab}`).classList.add('print-active');
            window.print();
            document.querySelector(`#${activeTab}`).classList.remove('print-active');
        }

        function saveData() {
            const data = {};
            document.querySelectorAll('input').forEach(input => {
                if (input.id) {
                    data[input.id] = input.value;
                }
            });
            localStorage.setItem('bingoFormsData', JSON.stringify(data));
            alert('Session data saved!');
        }

        function loadData() {
            const data = JSON.parse(localStorage.getItem('bingoFormsData') || '{}');
            Object.keys(data).forEach(key => {
                const element = document.getElementById(key);
                if (element) {
                    element.value = data[key];
                }
            });
            calculateMoney();
            alert('Session data loaded!');
        }

        function generateSMS() {
            const activeTab = document.querySelector('.tab-content.active').id;
            let message = '';

            if (activeTab === 'money') {
                const bingoTotal = document.getElementById('bingo_total').value || '0.00';
                const pulltabTotal = document.getElementById('pulltab_total').value || '0.00';
                const grandTotal = document.getElementById('grand_total').value || '0.00';
                message = `Money Summary - Bingo: $${bingoTotal}, Pull-tabs: $${pulltabTotal}, Total: $${grandTotal}`;
            } else if (activeTab === 'occasion') {
                const totalPeople = document.getElementById('occasion_people').value || '0';
                const totalSales = document.getElementById('total_gross_sales').value || '0.00';
                const session = document.querySelector('input[name="session"]:checked')?.value || 'Unknown';
                const birthdays = document.getElementById('occasion_birthdays').value || '0';
                message = `Bingo Report - Session: ${session}, People: ${totalPeople}, Birthdays: ${birthdays}, Gross Sales: $${totalSales}`;
            } else if (activeTab === 'pulltab') {
                const totalSales = document.getElementById('pulltab_total_sales').value || '0.00';
                const netProfits = document.getElementById('pt_net_profits').value || '0.00';
                const depositTotal = document.getElementById('pt_deposit_total').value || '0.00';
                message = `Pull-tab Summary - Sales: $${totalSales}, Deposit: $${depositTotal}, Net Profits: $${netProfits}`;
            }

            navigator.clipboard.writeText(message).then(() => {
                alert('SMS message copied to clipboard!\n\n' + message);
            }).catch(() => {
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = message;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                alert('SMS message copied to clipboard!\n\n' + message);
            });
        }

        function saveData() {
            const data = {};
            document.querySelectorAll('input').forEach(input => {
                if (input.id) {
                    if (input.type === 'radio') {
                        if (input.checked) {
                            data[input.name] = input.value;
                        }
                    } else {
                        data[input.id] = input.value;
                    }
                }
            });

            localStorage.setItem('bingoFormsData', JSON.stringify(data));
            localStorage.setItem('bingoFormsTimestamp', new Date().toISOString());
            alert('Session data saved successfully!');
        }

        function loadData() {
            const data = JSON.parse(localStorage.getItem('bingoFormsData') || '{}');
            const timestamp = localStorage.getItem('bingoFormsTimestamp');

            if (Object.keys(data).length === 0) {
                alert('No saved session data found.');
                return;
            }

            Object.keys(data).forEach(key => {
                const element = document.getElementById(key);
                if (element) {
                    if (element.type === 'radio') {
                        if (element.value === data[key]) {
                            element.checked = true;
                        }
                    } else {
                        element.value = data[key];
                    }
                }
            });

            // Handle radio button groups
            if (data.session) {
                document.querySelectorAll('input[name="session"]').forEach(radio => {
                    radio.checked = radio.value === data.session;
                });
            }

            // Recalculate all forms
            calculateMoney();
            calculateOccasion();
            calculatePulltabTotals();

            const savedDate = timestamp ? new Date(timestamp).toLocaleString() : 'Unknown';
            alert(`Session data loaded successfully!\nSaved: ${savedDate}`);
        }

        // Session Games Sheet functions
        function initializeRegularGames() {
            const regularGames = [4, 5, 6, 7, 8, 10, 11, 12, 14, 15, 16, 17];
            const gameNames = {
                4: 'Regular Game 4', 5: 'Number 7 (Orange)', 6: 'Regular Game 6', 7: 'Regular Game 7',
                8: 'Letter X (Pink)', 10: 'Regular Game 10', 11: 'Regular Game 11', 12: 'Regular Game 12',
                14: 'Regular Game 14', 15: 'Regular Game 15', 16: 'Regular Game 16', 17: 'Coverall (Aqua)'
            };
            const defaultPrizes = {
                4: 75, 5: 250, 6: 75, 7: 75, 8: 250, 10: 75, 11: 75, 12: 75,
                14: 75, 15: 75, 16: 75, 17: 500
            };

            const tbody = document.getElementById('regular_games_body');
            tbody.innerHTML = '';

            regularGames.forEach(gameNum => {
                const row = tbody.insertRow();
                row.innerHTML = `
                    <td>${gameNum}</td>
                    <td><input type="text" id="game${gameNum}_name" placeholder="${gameNames[gameNum]}"></td>
                    <td><input type="number" step="0.01" id="game${gameNum}_prize" placeholder="${defaultPrizes[gameNum]}.00" onchange="calculateGamePrize(${gameNum})"></td>
                    <td>
                        <button class="btn btn-secondary" onclick="changeWinners(${gameNum}, -1)">-</button>
                        <input type="number" id="game${gameNum}_winners" value="1" min="1" style="width: 50px; text-align: center;" onchange="calculateGamePrize(${gameNum})">
                        <button class="btn btn-secondary" onclick="changeWinners(${gameNum}, 1)">+</button>
                    </td>
                    <td><input type="number" step="0.01" id="game${gameNum}_per_winner" readonly></td>
                `;
            });
        }

        function changeWinners(gameNum, change) {
            const winnersInput = document.getElementById(`game${gameNum}_winners`);
            let currentWinners = parseInt(winnersInput.value) || 1;
            currentWinners = Math.max(1, currentWinners + change);
            winnersInput.value = currentWinners;
            calculateGamePrize(gameNum);
        }

        function calculateGamePrize(gameNum) {
            const prizeInput = document.getElementById(`game${gameNum}_prize`);
            const winnersInput = document.getElementById(`game${gameNum}_winners`);
            const perWinnerInput = document.getElementById(`game${gameNum}_per_winner`);

            const totalPrize = parseFloat(prizeInput.value) || 0;
            const winners = parseInt(winnersInput.value) || 1;

            if (totalPrize > 0 && winners > 0) {
                // Round up to nearest dollar if not whole dollar amount
                const prizePerWinner = Math.ceil(totalPrize / winners);
                perWinnerInput.value = prizePerWinner.toFixed(2);
            } else {
                perWinnerInput.value = '';
            }

            calculateGamesTotals();
        }

        function calculateGamesTotals() {
            // Early Bird totals (games 1-3)
            let earlybirdTotal = 0;
            for (let i = 1; i <= 3; i++) {
                const prize = parseFloat(document.getElementById(`game${i}_prize`).value) || 0;
                earlybirdTotal += prize;
            }
            document.getElementById('total_earlybird_prizes').value = earlybirdTotal.toFixed(2);

            // Regular games totals (4-8, 10-12, 14-17)
            const regularGames = [4, 5, 6, 7, 8, 10, 11, 12, 14, 15, 16, 17];
            let regularTotal = 0;
            regularGames.forEach(gameNum => {
                const prize = parseFloat(document.getElementById(`game${gameNum}_prize`).value) || 0;
                regularTotal += prize;
            });
            document.getElementById('total_regular_prizes').value = regularTotal.toFixed(2);

            // Special games totals (9, 13)
            let specialTotal = 0;
            [9, 13].forEach(gameNum => {
                const prize = parseFloat(document.getElementById(`game${gameNum}_prize`).value) || 0;
                specialTotal += prize;
            });
            document.getElementById('total_special_prizes').value = specialTotal.toFixed(2);

            // Grand totals
            const totalBingoPrizes = earlybirdTotal + regularTotal + specialTotal;
            document.getElementById('total_bingo_prizes').value = totalBingoPrizes.toFixed(2);

            const pulltabPrizes = parseFloat(document.getElementById('total_pulltab_prizes').value) || 0;
            document.getElementById('grand_total_prizes').value = (totalBingoPrizes + pulltabPrizes).toFixed(2);
        }

        document.addEventListener('DOMContentLoaded', function() {
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('occasion_date').value = today;
            document.getElementById('pulltab_date').value = today;
            document.getElementById('games_date').value = today;

            // Load saved game library if exists
            const savedLibrary = localStorage.getItem('pulltabGameLibrary');
            if (savedLibrary) {
                try {
                    const loadedGames = JSON.parse(savedLibrary);
                    gameLibrary.splice(0, gameLibrary.length, ...loadedGames);
                } catch (error) {
                    console.log('Error loading saved game library');
                }
            }

            // Initialize pull-tab games
            initializePulltabGames();

            // Initialize regular games
            initializeRegularGames();
        });
    </script>
</body>
</html>